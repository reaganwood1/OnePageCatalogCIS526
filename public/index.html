<!doctype html>
<html>
  <head>
    <title>Scrumtastic</title>
    <link href="public/onepage.css" type="text/css" rel="stylesheet"/>
  </head>
  <body>
    <h1>Lamborghini Gallery</h1>
    <div id="pictures" class="pictures">

    </div>
    <script
      src="https://code.jquery.com/jquery-3.2.1.min.js"
      integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
      crossorigin="anonymous"></script>
    <!--<script src="public/onepage.js" type="text/javascript"></script>-->
    <form class="createContainer" enctype="multipart/form-data">
      <input id="createButton" type="submit" value="Click to Create an Image">
    </form>
    <script>
        // Source: http://stackoverflow.com/questions/13888093/how-to-show-hide-a-form-on-button-click-in-jquery
        $(".createContainer").submit(function() {
          /* AJAX calls and insertion into #productionForm */
          $(".uploadContainer").show();
          return false;
        });
    </script>
    <form class="uploadContainer" hidden="true" action="" method="POST" enctype="multipart/form-data">
      <input type="file" name="image">
      <input type="text" name="title" placeholder="add a title">
      <input type="text" name="description" placeholder="add a description">
      <input class="submitImageButton" type="submit" value="Upload Image">
    </form>
    <script>
        // Source: http://stackoverflow.com/questions/13888093/how-to-show-hide-a-form-on-button-click-in-jquery
        $(".uploadContainer").submit(function() {
          /* AJAX calls and insertion into #productionForm */
          console.log("yellow");
          return false;
        });
    </script>
    <script>
    console.log("hello");
    jQuery.ajax('/projects/', {
      method: 'GET',
      success: function(data) {
        data.forEach(function(car) {
          var item = document.createElement("li");
          item.innerHTML = car.name;
          item.onclick = function () { displayAlbumInfo(car.id); console.log("I've been clicked")};
          $("#pictures").append(item);
        });
      },
      error: function(xhr, status) {
        // If the status was not OK (200), we had an error
        console.log('Error: ' + status);
      }
    });

    functoin displayCarInfo = function(id) {

      console.log("car id" + id);
    }
    </script>

  </body>
</html>
